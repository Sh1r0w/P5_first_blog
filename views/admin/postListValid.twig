{% extends 'admin/admin.twig' %}
  {% import "macro/forms.twig" as forms %}
    {% block adminContent %}
        <table class="table table-dark table-striped">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Titre</th>
                <th scope="col">Auteur</th>
                <th scope="col">Validé</th>

              </tr>
            </thead>
            <tbody>
                {% for p in adminPostList[0].post %}
              <tr>
                <th scope="row">{{ p.id }}</th>
                <td><a class="cardOne" type="button" data-bs-toggle="modal" data-bs-target="#read{{ p.id }}">{{ p.title }}
                  </a>
                  <div class="modal fade " id="read{{ p.id }}" tabindex="-1" aria-hidden="true">
                    {% include 'modal/postRead.twig' %}
                </div>
                <div class="modal fade " id="vue{{ p.id }}" tabindex="-1" aria-hidden="true">
                        {% include 'modal/postModifModal.twig' %}
                    </div>
                </td>
                <td><a href="profil?id={{ p.id_user }}" form="post" target="_blank">{{ p.author }}</a></td>
                <td>
                  <div class="d-flex flex-wrap">
                 <form action="postList?action=adminPostUpdate&id={{ p.id }}&key={{ p.valide }}" method="post">
                  {{ forms.csrf }}
                   <button type="submit" class="btn btn-success">
                    Oui          
                </button>
                </form>
                 <form action="postListA?action=adminPostDelete&id={{ p.id }}" method="post">
                  {{ forms.csrf }}
                  <button onClick="return confirm('Etes vous sûr de vouloir supprimer ce message ?')" class="btn btn-danger" type="submit">
                    Supprimer          
                </button>
                </div>
                </td>
                
              </tr>
            
            {% endfor %}
            </tbody>
          </table>

{% endblock %}